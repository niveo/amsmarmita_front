<div class="comp-body">
  <div class="comp-head"> 
    @if (!loading()) {
      <button
        nz-button
        nzType="primary"
        style="margin-bottom: 10px"
        (click)="incluir()"
        [nzLoading]="loading()"
      >
        Novo
      </button>
    }
  </div>
  <div class="comp-content">
    <div class="comp-inner">
      <nz-list nzItemLayout="horizontal" nzBordered nzSize="large">
        @for (item of data$ | async; track item._id) {
          <nz-list-item>
            <nz-list-item-meta>
              <nz-list-item-meta-title>
                {{ item.nome }}
              </nz-list-item-meta-title>
            </nz-list-item-meta>

            <ul nz-list-item-actions>
              <nz-list-item-action>
                <button
                  nz-button
                  nzType="dashed"
                  nz-tooltip
                  nzTooltipTitle="Editar"
                  nzSize="small"
                  (click)="editar(item)"
                >
                  <span nz-icon nzType="edit" nzTheme="outline"></span>
                </button>
              </nz-list-item-action>
              <nz-list-item-action>
                <button
                  nzDanger
                  nz-button
                  nzSize="small"
                  nzType="dashed"
                  nz-tooltip
                  nzTooltipTitle="Remover"
                  nz-popconfirm
                  nzPopconfirmTitle="Deseja remover esse registro?"
                  nzPopconfirmPlacement="bottom"
                  (nzOnConfirm)="remover(item)"
                >
                  <span nz-icon nzType="delete" nzTheme="outline"></span>
                </button>
              </nz-list-item-action>
            </ul>
          </nz-list-item>
        }
      </nz-list>
    </div>
  </div>
  <app-progress-bar-component [visible]="loading()" />
</div>

@if (editarForm) {
  <app-comedores-form-component
    [(visible)]="editarForm"
    [data]="editarFormData()"
  />
}
