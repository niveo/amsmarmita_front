<form nz-form [formGroup]="validateForm" nzLayout="vertical">
  <nz-form-item>
    <nz-form-label [nzSm]="8" [nzXs]="24" nzRequired>Nome</nz-form-label>
    <nz-form-control
      [nzSm]="16"
      [nzXs]="24"
      nzErrorTip="Por favor informe aqui o nome do prato!"
    >
      <nz-input-group>
        <input
          type="text"
          nz-input
          formControlName="nome"
          placeholder="Informe aqui o nome do prato"
          [maxLength]="50"
        />
      </nz-input-group>
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label [nzSpan]="5" nzRequired>Grupo</nz-form-label>
    <nz-form-control
      [nzSpan]="12"
      nzErrorTip="Por favor informe um grupo do prato!"
    >
      <nz-select
        formControlName="grupo"
        placeholder="Informe aqui o grupo do prato"
      >
        @for (g of grupos; track g._id) {
          <nz-option nzCustomContent [nzValue]="g._id" [nzLabel]="g.nome!">
            <app-grupo-principal-component [principal]="g.principal" />
            {{ g.nome }}
          </nz-option>
        }
      </nz-select>
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label [nzSm]="8" [nzXs]="24">Observação</nz-form-label>
    <nz-form-control [nzSm]="16" [nzXs]="24">
      <nz-textarea-count [nzMaxCharacterCount]="100">
        <textarea
          type="text"
          nz-input
          formControlName="observacao"
          placeholder="Informe aqui uma observação"
          [maxLength]="100"
        ></textarea>
      </nz-textarea-count>
    </nz-form-control>
  </nz-form-item>

  <app-selecao-ingredientes-component
    [selecionados]="validateForm.value.ingredientes || []"
    (selecionadosChange)="validateForm.value.ingredientes = $event"
  /> 
  <br />
  <br />

  <span
    nz-icon
    nzType="tags"
    nzTheme="outline"
    style="margin-right: 5px"
  ></span>
  <app-pratos-form-composicao-component
    [composicoes]="validateForm.value.composicoes || []"
    (composicoesChange)="this.validateForm.value.composicoes = $event"
  />
</form>
