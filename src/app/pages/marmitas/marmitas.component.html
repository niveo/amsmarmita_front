<container-central [(drawer)]="editarForm" [loading]="loading()">
  <div drawer class="ovh hf">
    @if (editarForm) {
      <app-marmitas-form-component
        [(visible)]="editarForm"
        [data]="editarFormData()"
      />
    }
  </div>

  <div header>
    @if (!loading()) {
      <button
        mat-raised-button
        color="primary"
        style="margin-bottom: 10px"
        (click)="incluir()"
      >
        Novo
      </button>
    }
  </div>

  <div content>
    <div class="comp-inner-grid">
      @for (item of data$ | async; track item._id) {
        <div style="padding: 5px">
          <mat-card>
            <mat-card-header>
              <mat-card-title>{{
                item.lancamento | date: "dd/MM/yyyy"
              }}</mat-card-title>
              <mat-card-subtitle>
                {{ item.observacao }}
              </mat-card-subtitle>
            </mat-card-header>
            <mat-card-actions>
              <button mat-button (click)="visualizarComedores(item)">
                <mat-icon>launch</mat-icon>
              </button>
              <button
                mat-button
                [routerLink]="['/relatorio', { marmitaId: item._id }]"
              >
                <mat-icon>description</mat-icon>
              </button>
              <button mat-button (click)="editar(item)">
                Editar <mat-icon>edit</mat-icon>
              </button>
              <button mat-button (click)="removerRegistro(item)">
                Remover <mat-icon class="cred">delete</mat-icon>
              </button>
            </mat-card-actions>
          </mat-card>
        </div>
      }
    </div>
  </div>
</container-central>
